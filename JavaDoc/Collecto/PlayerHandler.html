<!DOCTYPE HTML>
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (11.0.10) on Wed Jan 27 23:41:34 CET 2021 -->
<title>PlayerHandler</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta name="dc.created" content="2021-01-27">
<link rel="stylesheet" type="text/css" href="../stylesheet.css" title="Style">
<link rel="stylesheet" type="text/css" href="../jquery/jquery-ui.css" title="Style">
<script type="text/javascript" src="../script.js"></script>
<script type="text/javascript" src="../jquery/jszip/dist/jszip.min.js"></script>
<script type="text/javascript" src="../jquery/jszip-utils/dist/jszip-utils.min.js"></script>
<!--[if IE]>
<script type="text/javascript" src="../jquery/jszip-utils/dist/jszip-utils-ie.min.js"></script>
<![endif]-->
<script type="text/javascript" src="../jquery/jquery-3.5.1.js"></script>
<script type="text/javascript" src="../jquery/jquery-ui.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="PlayerHandler";
        }
    }
    catch(err) {
    }
//-->
var data = {"i0":10,"i1":10,"i2":10,"i3":10,"i4":10,"i5":10,"i6":10,"i7":10,"i8":10,"i9":10,"i10":10,"i11":10,"i12":10,"i13":10,"i14":10,"i15":10};
var tabs = {65535:["t0","All Methods"],2:["t2","Instance Methods"],8:["t4","Concrete Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
var pathtoroot = "../";
var useModuleDirectories = true;
loadScripts(document, 'script');</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<header role="banner">
<nav role="navigation">
<div class="fixedNav">
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a id="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a id="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../index.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../deprecated-list.html">Deprecated</a></li>
<li><a href="../index-files/index-1.html">Index</a></li>
<li><a href="../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../allclasses.html">All&nbsp;Classes</a></li>
</ul>
<ul class="navListSearch">
<li><label for="search">SEARCH:</label>
<input type="text" id="search" value="search" disabled="disabled">
<input type="reset" id="reset" value="reset" disabled="disabled">
</li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field.summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field.detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a id="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
</div>
<div class="navPadding">&nbsp;</div>
<script type="text/javascript"><!--
$('.navPadding').css('padding-top', $('.fixedNav').css("height"));
//-->
</script>
</nav>
</header>
<!-- ======== START OF CLASS DATA ======== -->
<main role="main">
<div class="header">
<div class="subTitle"><span class="packageLabelInType">Package</span>&nbsp;<a href="package-summary.html">Collecto</a></div>
<h2 title="Class PlayerHandler" class="title">Class PlayerHandler</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li>java.lang.Object</li>
<li>
<ul class="inheritance">
<li>Collecto.PlayerHandler</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<dl>
<dt>All Implemented Interfaces:</dt>
<dd><code>java.lang.Runnable</code></dd>
</dl>
<hr>
<pre>public class <span class="typeNameLabel">PlayerHandler</span>
extends java.lang.Object
implements java.lang.Runnable</pre>
<div class="block">This class handles clients that connect to a server.
 A server creates a PlayerHandler object for each
 client that connects to that server. The PlayerHandler
 then communicates with the client, and handles any
 communication with the client as well as games and
 opponents of that client. It also stores all necessary
 information about the client, and makes sure that the
 connection is cleanly terminated when a client disconnects.
 It communicates with its server only to check on whatever
 that must be stored on the server, meaning queues,
 login names, and adding or removing players. It only starts
 new games after the server tells it to do so. It is able
 to print log messages on the terminal of the user running
 the server using the TUI class.</div>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="Server.html" title="class in Collecto"><code>Server</code></a>, 
<a href="Client.html" title="class in Collecto"><code>Client</code></a>, 
<a href="Game.html" title="class in Collecto"><code>Game</code></a>, 
<a href="TUI.html" title="class in Collecto"><code>TUI</code></a></dd>
</dl>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- =========== FIELD SUMMARY =========== -->
<section role="region">
<ul class="blockList">
<li class="blockList"><a id="field.summary">
<!--   -->
</a>
<h3>Field Summary</h3>
<table class="memberSummary">
<caption><span>Fields</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colSecond" scope="col">Field</th>
<th class="colLast" scope="col">Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private boolean</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#authSupport">authSupport</a></span></code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private boolean</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#chatSupport">chatSupport</a></span></code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private boolean</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#cryptSupport">cryptSupport</a></span></code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private <a href="Game.html" title="class in Collecto">Game</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#game">game</a></span></code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private java.io.BufferedReader</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#in">in</a></span></code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private boolean</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#loggedIn">loggedIn</a></span></code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private boolean</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#myTurn">myTurn</a></span></code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected java.lang.String</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#name">name</a></span></code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private <a href="PlayerHandler.html" title="class in Collecto">PlayerHandler</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#opponent">opponent</a></span></code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private java.io.BufferedWriter</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#out">out</a></span></code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private boolean</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#rankSupport">rankSupport</a></span></code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private boolean</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#saidHello">saidHello</a></span></code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private <a href="Server.html" title="class in Collecto">Server</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#server">server</a></span></code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private java.net.Socket</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#socket">socket</a></span></code></th>
<td class="colLast">&nbsp;</td>
</tr>
</table>
</li>
</ul>
</section>
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<section role="region">
<ul class="blockList">
<li class="blockList"><a id="constructor.summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="memberSummary">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Constructor</th>
<th class="colLast" scope="col">Description</th>
</tr>
<tr class="altColor">
<th class="colConstructorName" scope="row"><code><span class="memberNameLink"><a href="#%3Cinit%3E(java.net.Socket,Collecto.Server)">PlayerHandler</a></span>&#8203;(java.net.Socket&nbsp;socket,
             <a href="Server.html" title="class in Collecto">Server</a>&nbsp;server)</code></th>
<td class="colLast">
<div class="block">Constructs a new PlayerHandler with a given socket and server.</div>
</td>
</tr>
</table>
</li>
</ul>
</section>
<!-- ========== METHOD SUMMARY =========== -->
<section role="region">
<ul class="blockList">
<li class="blockList"><a id="method.summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="memberSummary">
<caption><span id="t0" class="activeTableTab"><span>All Methods</span><span class="tabEnd">&nbsp;</span></span><span id="t2" class="tableTab"><span><a href="javascript:show(2);">Instance Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t4" class="tableTab"><span><a href="javascript:show(8);">Concrete Methods</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colSecond" scope="col">Method</th>
<th class="colLast" scope="col">Description</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code>protected void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#closeConnection()">closeConnection</a></span>()</code></th>
<td class="colLast">
<div class="block">Closes the connection with the connected client.</div>
</td>
</tr>
<tr id="i1" class="rowColor">
<td class="colFirst"><code>java.lang.String</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#getName()">getName</a></span>()</code></th>
<td class="colLast">
<div class="block">Returns the name of the player (client) connected to this Player.</div>
</td>
</tr>
<tr id="i2" class="altColor">
<td class="colFirst"><code>private void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#handleCommand(java.lang.String)">handleCommand</a></span>&#8203;(java.lang.String&nbsp;msg)</code></th>
<td class="colLast">
<div class="block">Handles the command sent by a client.</div>
</td>
</tr>
<tr id="i3" class="rowColor">
<td class="colFirst"><code>private void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#handleGameOver()">handleGameOver</a></span>()</code></th>
<td class="colLast">
<div class="block">Handles a game ending.</div>
</td>
</tr>
<tr id="i4" class="altColor">
<td class="colFirst"><code>private void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#handleGameOver(java.lang.String)">handleGameOver</a></span>&#8203;(java.lang.String&nbsp;reason)</code></th>
<td class="colLast">
<div class="block">Handles a game ending.</div>
</td>
</tr>
<tr id="i5" class="rowColor">
<td class="colFirst"><code>private void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#handleHello(java.lang.String%5B%5D)">handleHello</a></span>&#8203;(java.lang.String[]&nbsp;params)</code></th>
<td class="colLast">
<div class="block">Handles the HELLO command sent by a client.</div>
</td>
</tr>
<tr id="i6" class="altColor">
<td class="colFirst"><code>private void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#handleList()">handleList</a></span>()</code></th>
<td class="colLast">
<div class="block">Handles the player sending the <a href="Global.Protocol.Misc.html#HELLO">"HELLO"</a> command.</div>
</td>
</tr>
<tr id="i7" class="rowColor">
<td class="colFirst"><code>private void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#handleLogin(java.lang.String%5B%5D)">handleLogin</a></span>&#8203;(java.lang.String[]&nbsp;params)</code></th>
<td class="colLast">
<div class="block">Handles a client attempting to log in to the server to which this PlayerHandler belongs.</div>
</td>
</tr>
<tr id="i8" class="altColor">
<td class="colFirst"><code>private void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#handleMove(java.lang.String%5B%5D)">handleMove</a></span>&#8203;(java.lang.String[]&nbsp;params)</code></th>
<td class="colLast">
<div class="block">Handles a client sending the <a href="Global.Protocol.Commands.html#MOVE">"MOVE"</a> command.</div>
</td>
</tr>
<tr id="i9" class="rowColor">
<td class="colFirst"><code>private void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#handleQueue()">handleQueue</a></span>()</code></th>
<td class="colLast">
<div class="block">Handles a client sending the <a href="Global.Protocol.Commands.html#QUEUE">"QUEUE"</a> command.</div>
</td>
</tr>
<tr id="i10" class="altColor">
<td class="colFirst"><code>private void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#respondHello()">respondHello</a></span>()</code></th>
<td class="colLast">
<div class="block">Responds to a client with the HELLO command.</div>
</td>
</tr>
<tr id="i11" class="rowColor">
<td class="colFirst"><code>private void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#respondMove(Collecto.Move,Collecto.Move)">respondMove</a></span>&#8203;(<a href="Move.html" title="class in Collecto">Move</a>&nbsp;firstMove,
           <a href="Move.html" title="class in Collecto">Move</a>&nbsp;secondMove)</code></th>
<td class="colLast">
<div class="block">Response to a successful move made by a client.</div>
</td>
</tr>
<tr id="i12" class="altColor">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#run()">run</a></span>()</code></th>
<td class="colLast">
<div class="block">Listens to messages from the client.</div>
</td>
</tr>
<tr id="i13" class="rowColor">
<td class="colFirst"><code>private void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#sendError(java.lang.String)">sendError</a></span>&#8203;(java.lang.String&nbsp;error)</code></th>
<td class="colLast">
<div class="block">Sends an error to the connected client.</div>
</td>
</tr>
<tr id="i14" class="altColor">
<td class="colFirst"><code>private void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#sendMessage(java.lang.String)">sendMessage</a></span>&#8203;(java.lang.String&nbsp;message)</code></th>
<td class="colLast">
<div class="block">Sends a message to the client connected to this PlayerHandler.</div>
</td>
</tr>
<tr id="i15" class="rowColor">
<td class="colFirst"><code>protected void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#startNewGame(Collecto.Game,Collecto.PlayerHandler)">startNewGame</a></span>&#8203;(<a href="Game.html" title="class in Collecto">Game</a>&nbsp;newGame,
            <a href="PlayerHandler.html" title="class in Collecto">PlayerHandler</a>&nbsp;opponentPlayer)</code></th>
<td class="colLast">
<div class="block">Triggers the start of a new game.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a id="methods.inherited.from.class.java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.Object</h3>
<code>clone, equals, finalize, getClass, hashCode, notify, notifyAll, toString, wait, wait, wait</code></li>
</ul>
</li>
</ul>
</section>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ FIELD DETAIL =========== -->
<section role="region">
<ul class="blockList">
<li class="blockList"><a id="field.detail">
<!--   -->
</a>
<h3>Field Detail</h3>
<a id="in">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>in</h4>
<pre>private final&nbsp;java.io.BufferedReader in</pre>
</li>
</ul>
<a id="out">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>out</h4>
<pre>private final&nbsp;java.io.BufferedWriter out</pre>
</li>
</ul>
<a id="socket">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>socket</h4>
<pre>private final&nbsp;java.net.Socket socket</pre>
</li>
</ul>
<a id="server">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>server</h4>
<pre>private final&nbsp;<a href="Server.html" title="class in Collecto">Server</a> server</pre>
</li>
</ul>
<a id="name">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>name</h4>
<pre>protected&nbsp;java.lang.String name</pre>
</li>
</ul>
<a id="game">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>game</h4>
<pre>private&nbsp;<a href="Game.html" title="class in Collecto">Game</a> game</pre>
</li>
</ul>
<a id="opponent">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>opponent</h4>
<pre>private&nbsp;<a href="PlayerHandler.html" title="class in Collecto">PlayerHandler</a> opponent</pre>
</li>
</ul>
<a id="chatSupport">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>chatSupport</h4>
<pre>private&nbsp;boolean chatSupport</pre>
</li>
</ul>
<a id="rankSupport">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>rankSupport</h4>
<pre>private&nbsp;boolean rankSupport</pre>
</li>
</ul>
<a id="authSupport">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>authSupport</h4>
<pre>private&nbsp;boolean authSupport</pre>
</li>
</ul>
<a id="cryptSupport">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>cryptSupport</h4>
<pre>private&nbsp;boolean cryptSupport</pre>
</li>
</ul>
<a id="saidHello">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>saidHello</h4>
<pre>private&nbsp;boolean saidHello</pre>
</li>
</ul>
<a id="loggedIn">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>loggedIn</h4>
<pre>private&nbsp;boolean loggedIn</pre>
</li>
</ul>
<a id="myTurn">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>myTurn</h4>
<pre>private&nbsp;boolean myTurn</pre>
</li>
</ul>
</li>
</ul>
</section>
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<section role="region">
<ul class="blockList">
<li class="blockList"><a id="constructor.detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a id="&lt;init&gt;(java.net.Socket,Collecto.Server)">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>PlayerHandler</h4>
<pre>public&nbsp;PlayerHandler&#8203;(java.net.Socket&nbsp;socket,
                     <a href="Server.html" title="class in Collecto">Server</a>&nbsp;server)
              throws java.io.IOException</pre>
<div class="block">Constructs a new PlayerHandler with a given socket and server.
 Creates a new BufferedReader and BufferedWriter with this socket.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>socket</code> - socket connected to a client</dd>
<dd><code>server</code> - the server to which this PlayerHandler belongs</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.io.IOException</code> - for input/output errors</dd>
<dt><span class="simpleTagLabel">Requires:</span></dt>
<dd>socket has been connected to a client</dd>
</dl>
</li>
</ul>
</li>
</ul>
</section>
<!-- ============ METHOD DETAIL ========== -->
<section role="region">
<ul class="blockList">
<li class="blockList"><a id="method.detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a id="run()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>run</h4>
<pre class="methodSignature">public&nbsp;void&nbsp;run()</pre>
<div class="block">Listens to messages from the client. This method overrides the run() method from
 the Runnable interface, and it is triggered when a new thread belonging to this
 PlayerHandler is started. It continuously listens to input from the user, and
 handles it using the <a href="#handleCommand(java.lang.String)"><code>handleCommand(String)</code></a> method. When a client
 disconnects, it closes the connection using <a href="#closeConnection()"><code>closeConnection()</code></a> and
 removes the player from the list of players on the server, printing a log
 serverside to display the player disconnecting. It then also grants the victory
 of any open game to the opponent of the current player.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code>run</code>&nbsp;in interface&nbsp;<code>java.lang.Runnable</code></dd>
</dl>
</li>
</ul>
<a id="handleCommand(java.lang.String)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>handleCommand</h4>
<pre class="methodSignature">private&nbsp;void&nbsp;handleCommand&#8203;(java.lang.String&nbsp;msg)</pre>
<div class="block">Handles the command sent by a client. Splits the message parameter based on the
 <a href="Global.html#DELIMITER"><code>Global.DELIMITER</code></a> and looks at the first string to determine what command
 the client has sent. Invokes different methods in PlayerHandler to carry out these
 commands. Sends an error back if the command is not recognized.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>msg</code> - String containing the command and details of the command, separated
            by a delimiter</dd>
</dl>
</li>
</ul>
<a id="handleHello(java.lang.String[])">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>handleHello</h4>
<pre class="methodSignature">private&nbsp;void&nbsp;handleHello&#8203;(java.lang.String[]&nbsp;params)</pre>
<div class="block">Handles the HELLO command sent by a client. Goes over all support that the client
 offers, and stores it in booleans inside this PlayerHandler. Sends back a HELLO
 command to the client.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>params</code> - an array of split strings from protocol message by client</dd>
<dt><span class="simpleTagLabel">Requires:</span></dt>
<dd><code>params.length &gt; 1</code></dd>
<dt><span class="simpleTagLabel">Ensures:</span></dt>
<dd>responds to the client with the HELLO command</dd>
</dl>
</li>
</ul>
<a id="respondHello()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>respondHello</h4>
<pre class="methodSignature">private&nbsp;void&nbsp;respondHello()</pre>
<div class="block">Responds to a client with the HELLO command. Adds all services that this server
 supports to the response.</div>
</li>
</ul>
<a id="handleLogin(java.lang.String[])">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>handleLogin</h4>
<pre class="methodSignature">private&nbsp;void&nbsp;handleLogin&#8203;(java.lang.String[]&nbsp;params)</pre>
<div class="block">Handles a client attempting to log in to the server to which this PlayerHandler belongs.
 Checks if the client has said <a href="Global.Protocol.Misc.html#HELLO">"HELLO"</a> first,
 and if the client is not already logged in.
 Checks if the name of the client is already registered on the server, in which case it
 sends back the <a href="Global.Protocol.Misc.html#ALREADY_LOGGED_IN">"ALREADYLOGGEDIN"</a> command.
 If it is not registered, it confirms the login by sending back
 the <a href="Global.Protocol.Misc.html#LOGIN">"LOGIN"</a> command.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>params</code> - LOGIN command and the name of the player, in an array of strings</dd>
<dt><span class="simpleTagLabel">Requires:</span></dt>
<dd>loggedIn == false, <code>params.length == 2</code></dd>
</dl>
</li>
</ul>
<a id="handleList()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>handleList</h4>
<pre class="methodSignature">private&nbsp;void&nbsp;handleList()</pre>
<div class="block">Handles the player sending the <a href="Global.Protocol.Misc.html#HELLO">"HELLO"</a> command.
 Checks if the player is logged in, and sends the connected client
 a list of all currently connected players on the
 server belonging to this PlayerHandler.</div>
<dl>
<dt><span class="simpleTagLabel">Requires:</span></dt>
<dd>loggedIn == true</dd>
</dl>
</li>
</ul>
<a id="handleQueue()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>handleQueue</h4>
<pre class="methodSignature">private&nbsp;void&nbsp;handleQueue()</pre>
<div class="block">Handles a client sending the <a href="Global.Protocol.Commands.html#QUEUE">"QUEUE"</a> command.
 Checks if the client is logged in, and not currently in a game.
 If the client is not in queue on the server, places the client in queue
 to await the start of a new game. If the client is
 already in queue, removes the client from the queue.</div>
<dl>
<dt><span class="simpleTagLabel">Requires:</span></dt>
<dd><code>loggedIn == true</code>, <code>game != null</code></dd>
</dl>
</li>
</ul>
<a id="handleMove(java.lang.String[])">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>handleMove</h4>
<pre class="methodSignature">private&nbsp;void&nbsp;handleMove&#8203;(java.lang.String[]&nbsp;params)</pre>
<div class="block">Handles a client sending the <a href="Global.Protocol.Commands.html#MOVE">"MOVE"</a> command.
 Checks if it is the turn of the client, if the client is in a game,
 and if there is any move possible for the current state of the board.
 Checks the validity of the move, and executes that move on the board
 of the current game, and notifies both clients playing the game that the move has
 successfully been made. Finally checks whether there are any moves still possible
 in the new state of the game, and if there are not, triggers <a href="#handleGameOver()"><code>handleGameOver()</code></a>.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>params</code> - the MOVE command followed by a single or double move</dd>
<dt><span class="simpleTagLabel">Requires:</span></dt>
<dd><code>game != null</code>, <code>myTurn == true</code>,
 <code>params.length == 2 || params.length == 3</code></dd>
</dl>
</li>
</ul>
<a id="handleGameOver()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>handleGameOver</h4>
<pre class="methodSignature">private&nbsp;void&nbsp;handleGameOver()</pre>
<div class="block">Handles a game ending. Triggers the <a href="#handleGameOver(java.lang.String)"><code>handleGameOver(String)</code></a> method with the
 reason <a href="Global.Protocol.Win.html#VICTORY">"VICTORY"</a> if the game has a winner,
 or with <a href="Global.Protocol.Win.html#DRAW">"DRAW"</a> if there is no winner.</div>
<dl>
<dt><span class="simpleTagLabel">Requires:</span></dt>
<dd><code>game != null</code></dd>
</dl>
</li>
</ul>
<a id="handleGameOver(java.lang.String)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>handleGameOver</h4>
<pre class="methodSignature">private&nbsp;void&nbsp;handleGameOver&#8203;(java.lang.String&nbsp;reason)</pre>
<div class="block">Handles a game ending. Sends a message to the connected client with the
 <a href="Global.Protocol.Misc.html#GAMEOVER">"GAMEOVER"</a> command followed by the reason,
 followed by the winner if the reason is not <a href="Global.Protocol.Win.html#DRAW">"DRAW"</a>.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>reason</code> - the reason why the game has ended</dd>
<dt><span class="simpleTagLabel">Requires:</span></dt>
<dd><code>game != null</code>, reason is
 <a href="Global.Protocol.Win.html#DRAW">"DRAW"</a>, <a href="Global.Protocol.Win.html#VICTORY">"VICTORY"</a>,
 or <a href="Global.Protocol.Win.html#DISCONNECT">"DISCONNECT"</a></dd>
</dl>
</li>
</ul>
<a id="respondMove(Collecto.Move,Collecto.Move)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>respondMove</h4>
<pre class="methodSignature">private&nbsp;void&nbsp;respondMove&#8203;(<a href="Move.html" title="class in Collecto">Move</a>&nbsp;firstMove,
                         <a href="Move.html" title="class in Collecto">Move</a>&nbsp;secondMove)</pre>
<div class="block">Response to a successful move made by a client. Sends the move to the client
 in the correct format, meaning the <a href="Global.Protocol.Commands.html#MOVE">"MOVE"</a> command,
 followed by a delimiter, followed by the move itself as an integer between 0-27,
 and if it is a double move, another delimiter and integer for the second move.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>firstMove</code> - first move made by a client</dd>
<dd><code>secondMove</code> - potential second move made by a client or null</dd>
<dt><span class="simpleTagLabel">Requires:</span></dt>
<dd>firstMove is valid, secondMove is valid or null</dd>
</dl>
</li>
</ul>
<a id="sendMessage(java.lang.String)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>sendMessage</h4>
<pre class="methodSignature">private&nbsp;void&nbsp;sendMessage&#8203;(java.lang.String&nbsp;message)</pre>
<div class="block">Sends a message to the client connected to this PlayerHandler. Prints the outgoing
 message on the terminal of the server to which this PlayerHandler belongs.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>message</code> - String which is sent to the client</dd>
<dt><span class="simpleTagLabel">Requires:</span></dt>
<dd><code>message != null</code></dd>
</dl>
</li>
</ul>
<a id="startNewGame(Collecto.Game,Collecto.PlayerHandler)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>startNewGame</h4>
<pre class="methodSignature">protected&nbsp;void&nbsp;startNewGame&#8203;(<a href="Game.html" title="class in Collecto">Game</a>&nbsp;newGame,
                            <a href="PlayerHandler.html" title="class in Collecto">PlayerHandler</a>&nbsp;opponentPlayer)</pre>
<div class="block">Triggers the start of a new game. Stores the reference to the new game given by the parameter
 as well as the opponent given by the parameter. Sends a message to the client connected to
 this PlayerHandler with the <a href="Global.Protocol.Misc.html#NEWGAME">"NEWGAME"</a> command,
 followed by the game in String form, and the names of the players,
 where the player who has the first turn is mentioned first.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>newGame</code> - new game shared by the PlayerHandler and its opponent</dd>
<dd><code>opponentPlayer</code> - PlayerHandler of new opponent with whom the new game is shared</dd>
<dt><span class="simpleTagLabel">Requires:</span></dt>
<dd><code>game == null</code></dd>
</dl>
</li>
</ul>
<a id="sendError(java.lang.String)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>sendError</h4>
<pre class="methodSignature">private&nbsp;void&nbsp;sendError&#8203;(java.lang.String&nbsp;error)</pre>
<div class="block">Sends an error to the connected client.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>error</code> - description of the error</dd>
</dl>
</li>
</ul>
<a id="closeConnection()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>closeConnection</h4>
<pre class="methodSignature">protected&nbsp;void&nbsp;closeConnection()</pre>
<div class="block">Closes the connection with the connected client.
 Removes this PlayerHandler from the queue if it is
 in queue, removes it from the list of online players
 on the server and tells the server that any game it
 was playing has ended.</div>
</li>
</ul>
<a id="getName()">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>getName</h4>
<pre class="methodSignature">public&nbsp;java.lang.String&nbsp;getName()</pre>
<div class="block">Returns the name of the player (client) connected to this Player.
 Returns empty string if player name is null.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>name of the client connected to this PlayerHandler or empty string if name is null</dd>
</dl>
</li>
</ul>
</li>
</ul>
</section>
</li>
</ul>
</div>
</div>
</main>
<!-- ========= END OF CLASS DATA ========= -->
<footer role="contentinfo">
<nav role="navigation">
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a id="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a id="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../index.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../deprecated-list.html">Deprecated</a></li>
<li><a href="../index-files/index-1.html">Index</a></li>
<li><a href="../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../allclasses.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field.summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field.detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a id="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</nav>
</footer>
</body>
</html>
